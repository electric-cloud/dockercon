<?xml version="1.0" encoding="UTF-8"?>
<exportedData version="63" buildLabel="build_5.0_73229_2014.05.25_05:29:38" buildVersion="5.0.1.73229" passkey="95daec80877f164f13935bac14adde8cf636fe7b">
  <exportPath>/projects/Demo</exportPath>
  <project>
    <projectName>Demo</projectName>
    <description></description>
    <resourceName></resourceName>
    <workspaceName></workspaceName>
    <propertySheet>
      <property>
        <propertyName>build_id</propertyName>
        <expandable>1</expandable>
        <value>48</value>
      </property>
      <property>
        <propertyName>ec_tags</propertyName>
        <expandable>1</expandable>
        <value> demo </value>
      </property>
      <property>
        <propertyName>postp</propertyName>
        <description></description>
        <expandable>1</expandable>
        <value>unshift(@::gMatchers,&#10;    {&#10;        id =&gt; "ReviewBoardId",&#10;        pattern =&gt; q{Review request #(.*) posted},&#10;        action =&gt; q{&#10;            setProperty("/myJob/report-urls/Request: $1", "http://$[/server/poc/REVIEWBOARD_HOST]/r/$1" );&#10;            setProperty("/myJob/request_id", "$1" );&#10;        }&#10;    });</value>
      </property>
      <property>
        <propertyName>production_active</propertyName>
        <description></description>
        <expandable>1</expandable>
        <value>8081</value>
      </property>
    </propertySheet>
    <credential>
      <credentialName>production_root</credentialName>
      <description></description>
      <password>zWjkbdMteM0VY1Ls3V+lwA==</password>
      <userName>root</userName>
      <propertySheet>
      </propertySheet>
    </credential>
    <procedure>
      <procedureName>Build_Application</procedureName>
      <description></description>
      <jobNameTemplate></jobNameTemplate>
      <resourceName>$[resource]</resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName></workspaceName>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>resource</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>source_directory</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>resource</formalParameterName>
        <defaultValue>build</defaultValue>
        <description></description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>source_directory</formalParameterName>
        <defaultValue></defaultValue>
        <description></description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>Build ID</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>use strict;&#10;use warnings;&#10;use ElectricCommander;&#10;my $ec = new ElectricCommander;&#10;&#10;my $response = $ec-&gt;incrementProperty("/myProject/build_id");&#10;my $id = $response-&gt;findvalue("//value")-&gt;value();&#10;if ($[/javascript myWorkflow ? 1 : 0]) {&#10;    $ec-&gt;setProperty("/myWorkflow/build_id", $id);&#10;}&#10;</command>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>job</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>Artifact key</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>use strict;&#10;use warnings;&#10;use ElectricCommander;&#10;my $ec = new ElectricCommander;&#10;&#10;my $key = '$[/javascript myParent.source_directory ? "developer" : "jpetstore"]';&#10;$ec-&gt;setProperty("/myParent/artifact_key", $key);</command>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>job</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>Checkout</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <condition>$[/javascript myParent.source_directory == '']</condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <parallel>0</parallel>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <subprocedure>CheckoutCode</subprocedure>
        <subproject>/plugins/ECSCM-Git/project</subproject>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workspaceName></workspaceName>
        <actualParameters>
          <property>
            <propertyName>GitBranch</propertyName>
            <expandable>1</expandable>
            <value></value>
          </property>
          <property>
            <propertyName>GitRepo</propertyName>
            <expandable>1</expandable>
            <value>https://github.com/electriccommunity/dockercon.git</value>
          </property>
          <property>
            <propertyName>clone</propertyName>
            <expandable>1</expandable>
            <value>0</value>
          </property>
          <property>
            <propertyName>commit</propertyName>
            <expandable>1</expandable>
            <value></value>
          </property>
          <property>
            <propertyName>config</propertyName>
            <expandable>1</expandable>
            <value>ec_github</value>
          </property>
          <property>
            <propertyName>dest</propertyName>
            <expandable>1</expandable>
            <value>.</value>
          </property>
          <property>
            <propertyName>tag</propertyName>
            <expandable>1</expandable>
            <value></value>
          </property>
        </actualParameters>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>Source directory</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>ectool setProperty /myParent/source_directory /opt/electriccloud/electriccommander/workspace/$[jobName]</command>
        <condition>$[/javascript myParent.source_directory == '']</condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell></shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>Compile</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <parallel>0</parallel>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <subprocedure>RunAndMonitorBuild</subprocedure>
        <subproject>/plugins/EC-Jenkins/project</subproject>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workspaceName></workspaceName>
        <actualParameters>
          <property>
            <propertyName>config_name</propertyName>
            <expandable>1</expandable>
            <value>jenkins</value>
          </property>
          <property>
            <propertyName>job_name</propertyName>
            <expandable>1</expandable>
            <value>jpetstore</value>
          </property>
          <property>
            <propertyName>parameters</propertyName>
            <expandable>1</expandable>
            <value>source_directory=$[source_directory]</value>
          </property>
        </actualParameters>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>Publish war</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <parallel>1</parallel>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <subprocedure>Publish</subprocedure>
        <subproject>/plugins/EC-Artifact/project</subproject>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workspaceName></workspaceName>
        <actualParameters>
          <property>
            <propertyName>artifactName</propertyName>
            <expandable>1</expandable>
            <value>$[artifact_key]:war</value>
          </property>
          <property>
            <propertyName>artifactVersionVersion</propertyName>
            <expandable>1</expandable>
            <value>$[/myProject/build_id]</value>
          </property>
          <property>
            <propertyName>compress</propertyName>
            <expandable>1</expandable>
            <value>1</value>
          </property>
          <property>
            <propertyName>dependentArtifactVersionList</propertyName>
            <expandable>1</expandable>
            <value></value>
          </property>
          <property>
            <propertyName>excludePatterns</propertyName>
            <expandable>1</expandable>
            <value></value>
          </property>
          <property>
            <propertyName>followSymlinks</propertyName>
            <expandable>1</expandable>
            <value>1</value>
          </property>
          <property>
            <propertyName>fromLocation</propertyName>
            <expandable>1</expandable>
            <value>$[/javascript myParent.source_directory ? myParent.source_directory + "/" : ""]jpetstore/target</value>
          </property>
          <property>
            <propertyName>includePatterns</propertyName>
            <expandable>1</expandable>
            <value>*.war</value>
          </property>
          <property>
            <propertyName>repositoryName</propertyName>
            <expandable>1</expandable>
            <value>default</value>
          </property>
        </actualParameters>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>Publish docker</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <parallel>1</parallel>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <subprocedure>Publish</subprocedure>
        <subproject>/plugins/EC-Artifact/project</subproject>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workspaceName></workspaceName>
        <actualParameters>
          <property>
            <propertyName>artifactName</propertyName>
            <expandable>1</expandable>
            <value>$[artifact_key]:docker</value>
          </property>
          <property>
            <propertyName>artifactVersionVersion</propertyName>
            <expandable>1</expandable>
            <value>$[/myProject/build_id]</value>
          </property>
          <property>
            <propertyName>compress</propertyName>
            <expandable>1</expandable>
            <value>1</value>
          </property>
          <property>
            <propertyName>dependentArtifactVersionList</propertyName>
            <expandable>1</expandable>
            <value></value>
          </property>
          <property>
            <propertyName>excludePatterns</propertyName>
            <expandable>1</expandable>
            <value></value>
          </property>
          <property>
            <propertyName>followSymlinks</propertyName>
            <expandable>1</expandable>
            <value>1</value>
          </property>
          <property>
            <propertyName>fromLocation</propertyName>
            <expandable>1</expandable>
            <value>$[/javascript myParent.source_directory ? myParent.source_directory + "/" : ""]docker</value>
          </property>
          <property>
            <propertyName>includePatterns</propertyName>
            <expandable>1</expandable>
            <value></value>
          </property>
          <property>
            <propertyName>repositoryName</propertyName>
            <expandable>1</expandable>
            <value>default</value>
          </property>
        </actualParameters>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>Code_Review</procedureName>
      <description></description>
      <jobNameTemplate></jobNameTemplate>
      <resourceName>$[resource]</resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName></workspaceName>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>resource</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>review_description</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>review_summary</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>source_directory</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>resource</formalParameterName>
        <defaultValue>build</defaultValue>
        <description></description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>review_description</formalParameterName>
        <defaultValue></defaultValue>
        <description></description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>review_summary</formalParameterName>
        <defaultValue></defaultValue>
        <description></description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>source_directory</formalParameterName>
        <defaultValue></defaultValue>
        <description></description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>Create</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>cd $[source_directory]&#10;echo "REVIEWBOARD_URL = 'https://rbcommons.com/s/ecdemo/'" &gt; .reviewboardrc&#10;echo "REPOSITORY = 'dockercon'" &gt;&gt; .reviewboardrc&#10;post-review --username tanaynagjee --password changeme --parent=HEAD --target-people tanaynagjee --description="$[review_description]" --summary="$[review_summary]" --publish&#10;</command>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor>postp --loadProperty /myProject/postp</postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell></shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>Wait</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>use strict;&#10;use warnings;&#10;use LWP;&#10;use JSON qw( decode_json );&#10;use ElectricCommander;&#10;use Data::Dumper;&#10;&#10;my $ec = new ElectricCommander;&#10;&#10;my $browser = LWP::UserAgent-&gt;new;&#10;my $url = "https://rbcommons.com/s/ecdemo/api/review-requests/$[request_id]/";&#10;my $req = HTTP::Request-&gt;new(GET =&gt; $url);&#10;$req-&gt;authorization_basic("tanaynagjee", "changeme");&#10;&#10;my $status = 'pending';&#10;do {&#10;    my $response = $browser-&gt;request($req);&#10;    if ($response-&gt;is_error) {&#10;        if ($response-&gt;status_line ne '') {&#10;            print "Error: " . $response-&gt;status_line;&#10;        } else {&#10;            print "Error: Unable to retrieve URL $url";&#10;        }&#10;        exit;&#10;    }&#10;    my $decoded = decode_json($response-&gt;content());&#10;    $status = $decoded-&gt;{'review_request'}-&gt;{'status'};&#10;    if ($status eq 'pending') {&#10;        sleep 5;&#10;    }&#10;} while ($status eq 'pending');&#10;$ec-&gt;setProperty("summary", "Status: $status");&#10;if ($status eq 'discarded') {&#10;    print "Review was rejected!";&#10;    exit 1;&#10;}&#10;print "Review was accepted!";</command>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor>postp</postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>Deploy_Pre_Production</procedureName>
      <description></description>
      <jobNameTemplate></jobNameTemplate>
      <resourceName>$[environment]</resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName></workspaceName>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>artifact_key</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>build_id</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>environment</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>options</propertyName>
                      <propertySheet>
                        <property>
                          <propertyName>list</propertyName>
                          <expandable>1</expandable>
                          <value>development|quality</value>
                        </property>
                        <property>
                          <propertyName>type</propertyName>
                          <expandable>1</expandable>
                          <value>simpleList</value>
                        </property>
                      </propertySheet>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>port</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>resource</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>artifact_key</formalParameterName>
        <defaultValue>jpetstore</defaultValue>
        <description></description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>build_id</formalParameterName>
        <defaultValue>$[/myProject/build_id]</defaultValue>
        <description></description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>environment</formalParameterName>
        <defaultValue>development</defaultValue>
        <description></description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>select</type>
      </formalParameter>
      <step>
        <stepName>Retrieve war</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <parallel>1</parallel>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <subprocedure>Retrieve</subprocedure>
        <subproject>/plugins/EC-Artifact/project</subproject>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workspaceName></workspaceName>
        <actualParameters>
          <property>
            <propertyName>artifactName</propertyName>
            <expandable>1</expandable>
            <value>$[artifact_key]:war</value>
          </property>
          <property>
            <propertyName>artifactVersionLocationProperty</propertyName>
            <expandable>1</expandable>
            <value>/myJob/artifacts</value>
          </property>
          <property>
            <propertyName>filterList</propertyName>
            <expandable>1</expandable>
            <value></value>
          </property>
          <property>
            <propertyName>overwrite</propertyName>
            <expandable>1</expandable>
            <value>update</value>
          </property>
          <property>
            <propertyName>versionRange</propertyName>
            <expandable>1</expandable>
            <value>$[build_id]</value>
          </property>
        </actualParameters>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>Retrieve docker</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <parallel>1</parallel>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <subprocedure>Retrieve</subprocedure>
        <subproject>/plugins/EC-Artifact/project</subproject>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workspaceName></workspaceName>
        <actualParameters>
          <property>
            <propertyName>artifactName</propertyName>
            <expandable>1</expandable>
            <value>$[artifact_key]:docker</value>
          </property>
          <property>
            <propertyName>artifactVersionLocationProperty</propertyName>
            <expandable>1</expandable>
            <value>/myJob/artifacts</value>
          </property>
          <property>
            <propertyName>filterList</propertyName>
            <expandable>1</expandable>
            <value></value>
          </property>
          <property>
            <propertyName>overwrite</propertyName>
            <expandable>1</expandable>
            <value>update</value>
          </property>
          <property>
            <propertyName>versionRange</propertyName>
            <expandable>1</expandable>
            <value>$[build_id]</value>
          </property>
        </actualParameters>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>Arrange</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>rm -rf /opt/jpetstore/$[build_id]&#10;mkdir /opt/jpetstore/$[build_id]&#10;cp -R $[/myJob/artifacts/$[artifact_key]:docker/cacheLocation]/jetty /opt/jpetstore/$[build_id]/docker&#10;cp -R $[/myJob/artifacts/$[artifact_key]:war/cacheLocation]/*.war /opt/jpetstore/$[build_id]/docker</command>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell></shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>Docker stop</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>docker stop $(docker ps -a -q)&#10;docker rm $(docker ps -a -q)&#10;</command>
        <condition></condition>
        <description></description>
        <errorHandling>ignore</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor>postp</postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell></shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>Docker build</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>docker build -t ecdemo/jpetstore$[build_id] .</command>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell></shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory>/opt/jpetstore/$[build_id]/docker</workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>Docker run</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>docker run -p 8080:8080 ecdemo/jpetstore$[build_id] &amp;</command>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor>postp</postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell></shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory>/opt/jpetstore/$[build_id]/docker</workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>Deploy_Production</procedureName>
      <description></description>
      <jobNameTemplate></jobNameTemplate>
      <resourceName>$[resource]</resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName></workspaceName>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>build_id</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>port</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>resource</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>build_id</formalParameterName>
        <defaultValue>$[/myProject/build_id]</defaultValue>
        <description></description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>resource</formalParameterName>
        <defaultValue>production</defaultValue>
        <description></description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>Retrieve container</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <parallel>0</parallel>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <subprocedure>Retrieve</subprocedure>
        <subproject>/plugins/EC-Artifact/project</subproject>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workspaceName></workspaceName>
        <actualParameters>
          <property>
            <propertyName>artifactName</propertyName>
            <expandable>1</expandable>
            <value>jpetstore:container</value>
          </property>
          <property>
            <propertyName>artifactVersionLocationProperty</propertyName>
            <expandable>1</expandable>
            <value>/myJob/artifacts</value>
          </property>
          <property>
            <propertyName>filterList</propertyName>
            <expandable>1</expandable>
            <value></value>
          </property>
          <property>
            <propertyName>overwrite</propertyName>
            <expandable>1</expandable>
            <value>update</value>
          </property>
          <property>
            <propertyName>versionRange</propertyName>
            <expandable>1</expandable>
            <value>$[build_id]</value>
          </property>
        </actualParameters>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>Arrange</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>rm -rf /opt/jpetstore/$[build_id]&#10;mkdir /opt/jpetstore/$[build_id]&#10;cp -R $[/myJob/artifacts/jpetstore:container/cacheLocation] /opt/jpetstore/$[build_id]/docker</command>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell></shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>Target port</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>ectool setProperty /myParent/target_port $[/javascript myProject.production_active == 8080 ? 8081 : 8080]</command>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>job</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor>postp</postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell></shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>Deploy</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>docker ps|grep '$[target_port]-&gt;8080'|awk '{ print "docker rm -f "$1"" }'|sh&#10;cd /opt/jpetstore/$[build_id]/docker&#10;docker build -t nikhilv/jpetstore-$[target_port] .&#10;docker run -p $[target_port]:8080 nikhilv/jpetstore-$[target_port] &amp;&#10;sleep 5&#10;etcdctl set ecdemo/upstream $[target_port]&#10;confd -node 'http://127.0.0.1:4001' -onetime -confdir /etc/confd</command>
        <condition></condition>
        <credentialName>production_root</credentialName>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell></shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>Save port</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>ectool setProperty /myProject/production_active $[target_port]</command>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>job</exclusiveMode>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor>postp</postProcessor>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <shell></shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>Developer</procedureName>
      <description></description>
      <jobNameTemplate></jobNameTemplate>
      <resourceName></resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName></workspaceName>
      <propertySheet>
      </propertySheet>
      <step>
        <stepName>Preflight</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <condition></condition>
        <description></description>
        <errorHandling>abortProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <parallel>0</parallel>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName>build</resourceName>
        <subprocedure>Preflight</subprocedure>
        <subproject>/plugins/ECSCM-Git/project</subproject>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workspaceName></workspaceName>
        <actualParameters>
          <property>
            <propertyName>GitRepo</propertyName>
            <expandable>1</expandable>
            <value>https://github.com/electriccommunity/dockercon.git</value>
          </property>
          <property>
            <propertyName>config</propertyName>
            <expandable>1</expandable>
            <value>ec_github</value>
          </property>
          <property>
            <propertyName>dest</propertyName>
            <expandable>1</expandable>
            <value>src</value>
          </property>
        </actualParameters>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>Run workflow</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <parallel>0</parallel>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <subprocedure>WorkflowWrapper</subprocedure>
        <subproject>/plugins/WorkflowWrapper/project</subproject>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workspaceName></workspaceName>
        <actualParameters>
          <property>
            <propertyName>definition_name</propertyName>
            <expandable>1</expandable>
            <value>Developer</value>
          </property>
          <property>
            <propertyName>definition_parameters</propertyName>
            <expandable>1</expandable>
            <value>{actualParameterName =&gt; "source_directory", value =&gt; "/opt/electriccloud/electriccommander/workspace/$[jobName]/src"}</value>
          </property>
          <property>
            <propertyName>definition_project_name</propertyName>
            <expandable>1</expandable>
            <value>Demo</value>
          </property>
          <property>
            <propertyName>definition_starting_state</propertyName>
            <expandable>1</expandable>
            <value>Start</value>
          </property>
          <property>
            <propertyName>job_name</propertyName>
            <expandable>1</expandable>
            <value></value>
          </property>
        </actualParameters>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>Publish_Container</procedureName>
      <description></description>
      <jobNameTemplate></jobNameTemplate>
      <resourceName>$[resource]</resourceName>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName></workspaceName>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>artifact_key</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>build_id</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>resource</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>build_id</formalParameterName>
        <defaultValue>$[/myProject/build_id]</defaultValue>
        <description></description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>resource</formalParameterName>
        <defaultValue>quality</defaultValue>
        <description></description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>Publish</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <condition></condition>
        <description></description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <parallel>0</parallel>
        <precondition></precondition>
        <releaseMode>none</releaseMode>
        <resourceName></resourceName>
        <subprocedure>Publish</subprocedure>
        <subproject>/plugins/EC-Artifact/project</subproject>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workspaceName></workspaceName>
        <actualParameters>
          <property>
            <propertyName>artifactName</propertyName>
            <expandable>1</expandable>
            <value>jpetstore:container</value>
          </property>
          <property>
            <propertyName>artifactVersionVersion</propertyName>
            <expandable>1</expandable>
            <value>$[build_id]</value>
          </property>
          <property>
            <propertyName>compress</propertyName>
            <expandable>1</expandable>
            <value>1</value>
          </property>
          <property>
            <propertyName>dependentArtifactVersionList</propertyName>
            <expandable>1</expandable>
            <value></value>
          </property>
          <property>
            <propertyName>excludePatterns</propertyName>
            <expandable>1</expandable>
            <value></value>
          </property>
          <property>
            <propertyName>followSymlinks</propertyName>
            <expandable>1</expandable>
            <value>1</value>
          </property>
          <property>
            <propertyName>fromLocation</propertyName>
            <expandable>1</expandable>
            <value>/opt/jpetstore/$[build_id]/docker</value>
          </property>
          <property>
            <propertyName>includePatterns</propertyName>
            <expandable>1</expandable>
            <value></value>
          </property>
          <property>
            <propertyName>repositoryName</propertyName>
            <expandable>1</expandable>
            <value>default</value>
          </property>
        </actualParameters>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <schedule>
      <scheduleName>jpetstore</scheduleName>
      <description>Continuous integration configuration; managed by EC-CIManager.</description>
      <misfirePolicy>ignore</misfirePolicy>
      <priority>normal</priority>
      <procedureName>/plugins/WorkflowWrapper/project/procedures/WorkflowWrapper</procedureName>
      <scheduleDisabled>1</scheduleDisabled>
      <timeZone>America/Los_Angeles</timeZone>
      <actualParameters>
        <property>
          <propertyName>definition_name</propertyName>
          <expandable>1</expandable>
          <value>Production</value>
        </property>
        <property>
          <propertyName>definition_parameters</propertyName>
          <expandable>1</expandable>
          <value></value>
        </property>
        <property>
          <propertyName>definition_project_name</propertyName>
          <expandable>1</expandable>
          <value>Demo</value>
        </property>
        <property>
          <propertyName>definition_starting_state</propertyName>
          <expandable>1</expandable>
          <value>Start</value>
        </property>
        <property>
          <propertyName>job_name</propertyName>
          <expandable>1</expandable>
          <value></value>
        </property>
      </actualParameters>
      <propertySheet>
        <property>
          <propertyName>ec_ci</propertyName>
          <propertySheet>
            <property>
              <propertyName>charts</propertyName>
              <propertySheet>
                <property>
                  <propertyName>Build Time</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>series1-label</propertyName>
                      <expandable>1</expandable>
                      <value>Elapsed time</value>
                    </property>
                    <property>
                      <propertyName>series1-propertyName</propertyName>
                      <expandable>1</expandable>
                      <value>elapsedTime</value>
                    </property>
                    <property>
                      <propertyName>series1-scalingDivisor</propertyName>
                      <expandable>1</expandable>
                      <value>1000</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>Build Time by Outcome</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>autoSeries</propertyName>
                      <expandable>1</expandable>
                      <value>outcome</value>
                    </property>
                    <property>
                      <propertyName>series1-label</propertyName>
                      <expandable>1</expandable>
                      <value>Elapsed time</value>
                    </property>
                    <property>
                      <propertyName>series1-propertyName</propertyName>
                      <expandable>1</expandable>
                      <value>elapsedTime</value>
                    </property>
                    <property>
                      <propertyName>series1-scalingDivisor</propertyName>
                      <expandable>1</expandable>
                      <value>1000</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>Wait Time</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>series1-label</propertyName>
                      <expandable>1</expandable>
                      <value>License wait time</value>
                    </property>
                    <property>
                      <propertyName>series1-propertyName</propertyName>
                      <expandable>1</expandable>
                      <value>licenseWaitTime</value>
                    </property>
                    <property>
                      <propertyName>series1-scalingDivisor</propertyName>
                      <expandable>1</expandable>
                      <value>1000</value>
                    </property>
                    <property>
                      <propertyName>series2-label</propertyName>
                      <expandable>1</expandable>
                      <value>Resource wait time</value>
                    </property>
                    <property>
                      <propertyName>series2-propertyName</propertyName>
                      <expandable>1</expandable>
                      <value>resourceWaitTime</value>
                    </property>
                    <property>
                      <propertyName>series2-scalingDivisor</propertyName>
                      <expandable>1</expandable>
                      <value>1000</value>
                    </property>
                    <property>
                      <propertyName>series3-label</propertyName>
                      <expandable>1</expandable>
                      <value>Workspace wait time</value>
                    </property>
                    <property>
                      <propertyName>series3-propertyName</propertyName>
                      <expandable>1</expandable>
                      <value>workspaceWaitTime</value>
                    </property>
                    <property>
                      <propertyName>series3-scalingDivisor</propertyName>
                      <expandable>1</expandable>
                      <value>1000</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
            <property>
              <propertyName>checkoutSCMConfigName</propertyName>
              <expandable>1</expandable>
              <value>None</value>
            </property>
            <property>
              <propertyName>ciConfigDescription</propertyName>
              <expandable>1</expandable>
              <value></value>
            </property>
          </propertySheet>
        </property>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>GitBranch</propertyName>
              <expandable>1</expandable>
              <value>master</value>
            </property>
            <property>
              <propertyName>GitRepo</propertyName>
              <expandable>1</expandable>
              <value>https://github.com/electriccommunity/dockercon.git</value>
            </property>
            <property>
              <propertyName>QuietTimeMinutes</propertyName>
              <expandable>1</expandable>
              <value>0</value>
            </property>
            <property>
              <propertyName>TriggerFlag</propertyName>
              <expandable>1</expandable>
              <value>2</value>
            </property>
            <property>
              <propertyName>dest</propertyName>
              <expandable>1</expandable>
              <value></value>
            </property>
            <property>
              <propertyName>formType</propertyName>
              <expandable>1</expandable>
              <value>$[/plugins/ECSCM-Git/project/scm_form/sentry]</value>
            </property>
            <property>
              <propertyName>lsRemote</propertyName>
              <expandable>1</expandable>
              <value>1</value>
            </property>
            <property>
              <propertyName>monitorTags</propertyName>
              <expandable>1</expandable>
              <value>0</value>
            </property>
            <property>
              <propertyName>scheduleDisabled</propertyName>
              <expandable>1</expandable>
              <value>1</value>
            </property>
            <property>
              <propertyName>scmConfig</propertyName>
              <expandable>1</expandable>
              <value>ec_github</value>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
    </schedule>
    <workflowDefinition>
      <workflowDefinitionName>Developer</workflowDefinitionName>
      <description></description>
      <workflowNameTemplate></workflowNameTemplate>
      <propertySheet>
      </propertySheet>
      <stateDefinition>
        <stateDefinitionName>Start</stateDefinitionName>
        <description></description>
        <startable>1</startable>
        <propertySheet>
          <property>
            <propertyName>ec_customEditorData</propertyName>
            <propertySheet>
              <property>
                <propertyName>parameters</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>source_directory</propertyName>
                    <propertySheet>
                      <property>
                        <propertyName>formType</propertyName>
                        <expandable>1</expandable>
                        <value>standard</value>
                      </property>
                    </propertySheet>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
        </propertySheet>
        <formalParameter>
          <formalParameterName>source_directory</formalParameterName>
          <defaultValue></defaultValue>
          <description></description>
          <expansionDeferred>0</expansionDeferred>
          <required>1</required>
          <type>entry</type>
        </formalParameter>
        <transitionDefinition>
          <transitionDefinitionName>Start</transitionDefinitionName>
          <condition></condition>
          <description></description>
          <trigger>onEnter</trigger>
          <propertySheet>
          </propertySheet>
          <targetState>Build</targetState>
        </transitionDefinition>
      </stateDefinition>
      <stateDefinition>
        <stateDefinitionName>Build</stateDefinitionName>
        <description></description>
        <startable>0</startable>
        <subprocedure>Build_Application</subprocedure>
        <subproject></subproject>
        <substartingState></substartingState>
        <subworkflowDefinition></subworkflowDefinition>
        <actualParameters>
          <property>
            <propertyName>resource</propertyName>
            <expandable>1</expandable>
            <value>build</value>
          </property>
          <property>
            <propertyName>source_directory</propertyName>
            <expandable>1</expandable>
            <value>$[/myWorkflow/source_directory]</value>
          </property>
        </actualParameters>
        <propertySheet>
        </propertySheet>
        <transitionDefinition>
          <transitionDefinitionName>Success</transitionDefinitionName>
          <condition>$[/javascript mySubjob.outcome != "error";]</condition>
          <description></description>
          <trigger>onCompletion</trigger>
          <propertySheet>
          </propertySheet>
          <targetState>Deploy to Development</targetState>
        </transitionDefinition>
      </stateDefinition>
      <stateDefinition>
        <stateDefinitionName>Deploy to Development</stateDefinitionName>
        <description></description>
        <startable>0</startable>
        <subprocedure>Deploy_Pre_Production</subprocedure>
        <subproject></subproject>
        <substartingState></substartingState>
        <subworkflowDefinition></subworkflowDefinition>
        <actualParameters>
          <property>
            <propertyName>artifact_key</propertyName>
            <expandable>1</expandable>
            <value>developer</value>
          </property>
          <property>
            <propertyName>build_id</propertyName>
            <expandable>1</expandable>
            <value>$[/myWorkflow/build_id]</value>
          </property>
          <property>
            <propertyName>environment</propertyName>
            <expandable>1</expandable>
            <value>development</value>
          </property>
        </actualParameters>
        <propertySheet>
        </propertySheet>
        <transitionDefinition>
          <transitionDefinitionName>Success</transitionDefinitionName>
          <condition>$[/javascript mySubjob.outcome != "error";]</condition>
          <description></description>
          <trigger>onCompletion</trigger>
          <propertySheet>
          </propertySheet>
          <targetState>Code Review</targetState>
        </transitionDefinition>
      </stateDefinition>
      <stateDefinition>
        <stateDefinitionName>Code Review</stateDefinitionName>
        <description></description>
        <startable>0</startable>
        <subprocedure>Code_Review</subprocedure>
        <subproject></subproject>
        <substartingState></substartingState>
        <subworkflowDefinition></subworkflowDefinition>
        <actualParameters>
          <property>
            <propertyName>resource</propertyName>
            <expandable>1</expandable>
            <value>build</value>
          </property>
          <property>
            <propertyName>review_description</propertyName>
            <expandable>1</expandable>
            <value>Deployed to: http://services-uswest.skytap.com:25836/jpetstore/actions/Catalog.action</value>
          </property>
          <property>
            <propertyName>review_summary</propertyName>
            <expandable>1</expandable>
            <value>Preflight code review from $[/myWorkflow/workflowName]</value>
          </property>
          <property>
            <propertyName>source_directory</propertyName>
            <expandable>1</expandable>
            <value>$[/myWorkflow/source_directory]</value>
          </property>
        </actualParameters>
        <propertySheet>
        </propertySheet>
      </stateDefinition>
    </workflowDefinition>
    <workflowDefinition>
      <workflowDefinitionName>Production</workflowDefinitionName>
      <description></description>
      <workflowNameTemplate></workflowNameTemplate>
      <propertySheet>
      </propertySheet>
      <stateDefinition>
        <stateDefinitionName>Start</stateDefinitionName>
        <description></description>
        <startable>1</startable>
        <propertySheet>
        </propertySheet>
        <transitionDefinition>
          <transitionDefinitionName>Start</transitionDefinitionName>
          <condition></condition>
          <description></description>
          <trigger>onEnter</trigger>
          <propertySheet>
          </propertySheet>
          <targetState>Build</targetState>
        </transitionDefinition>
      </stateDefinition>
      <stateDefinition>
        <stateDefinitionName>Build</stateDefinitionName>
        <description></description>
        <startable>0</startable>
        <subprocedure>Build_Application</subprocedure>
        <subproject></subproject>
        <substartingState></substartingState>
        <subworkflowDefinition></subworkflowDefinition>
        <actualParameters>
          <property>
            <propertyName>resource</propertyName>
            <expandable>1</expandable>
            <value>build</value>
          </property>
        </actualParameters>
        <propertySheet>
        </propertySheet>
        <transitionDefinition>
          <transitionDefinitionName>Success</transitionDefinitionName>
          <condition>$[/javascript mySubjob.outcome != "error";]</condition>
          <description></description>
          <trigger>onCompletion</trigger>
          <propertySheet>
          </propertySheet>
          <targetState>Deploy to Quality</targetState>
        </transitionDefinition>
      </stateDefinition>
      <stateDefinition>
        <stateDefinitionName>Deploy to Quality</stateDefinitionName>
        <description></description>
        <startable>0</startable>
        <subprocedure>Deploy_Pre_Production</subprocedure>
        <subproject></subproject>
        <substartingState></substartingState>
        <subworkflowDefinition></subworkflowDefinition>
        <actualParameters>
          <property>
            <propertyName>artifact_key</propertyName>
            <expandable>1</expandable>
            <value>jpetstore</value>
          </property>
          <property>
            <propertyName>build_id</propertyName>
            <expandable>1</expandable>
            <value>$[/myWorkflow/build_id]</value>
          </property>
          <property>
            <propertyName>environment</propertyName>
            <expandable>1</expandable>
            <value>quality</value>
          </property>
        </actualParameters>
        <propertySheet>
        </propertySheet>
        <transitionDefinition>
          <transitionDefinitionName>Success</transitionDefinitionName>
          <condition>$[/javascript mySubjob.outcome != "error";]</condition>
          <description></description>
          <trigger>onCompletion</trigger>
          <propertySheet>
          </propertySheet>
          <targetState>Manual Tests</targetState>
        </transitionDefinition>
      </stateDefinition>
      <stateDefinition>
        <stateDefinitionName>Manual Tests</stateDefinitionName>
        <description></description>
        <startable>0</startable>
        <propertySheet>
        </propertySheet>
        <transitionDefinition>
          <transitionDefinitionName>Success</transitionDefinitionName>
          <condition></condition>
          <description></description>
          <trigger>manual</trigger>
          <propertySheet>
          </propertySheet>
          <targetState>Publish Container</targetState>
        </transitionDefinition>
        <transitionDefinition>
          <transitionDefinitionName>Failed</transitionDefinitionName>
          <condition></condition>
          <description></description>
          <trigger>manual</trigger>
          <propertySheet>
          </propertySheet>
          <targetState>Failed Tests</targetState>
        </transitionDefinition>
      </stateDefinition>
      <stateDefinition>
        <stateDefinitionName>Failed Tests</stateDefinitionName>
        <description></description>
        <startable>0</startable>
        <propertySheet>
        </propertySheet>
      </stateDefinition>
      <stateDefinition>
        <stateDefinitionName>Publish Container</stateDefinitionName>
        <description></description>
        <startable>0</startable>
        <subprocedure>Publish_Container</subprocedure>
        <subproject></subproject>
        <substartingState></substartingState>
        <subworkflowDefinition></subworkflowDefinition>
        <actualParameters>
          <property>
            <propertyName>build_id</propertyName>
            <expandable>1</expandable>
            <value>$[/myWorkflow/build_id]</value>
          </property>
          <property>
            <propertyName>resource</propertyName>
            <expandable>1</expandable>
            <value>quality</value>
          </property>
        </actualParameters>
        <propertySheet>
        </propertySheet>
        <transitionDefinition>
          <transitionDefinitionName>Success</transitionDefinitionName>
          <condition>$[/javascript mySubjob.outcome != "error";]</condition>
          <description></description>
          <trigger>onCompletion</trigger>
          <propertySheet>
          </propertySheet>
          <targetState>Deploy to Production</targetState>
        </transitionDefinition>
      </stateDefinition>
      <stateDefinition>
        <stateDefinitionName>Deploy to Production</stateDefinitionName>
        <description></description>
        <startable>0</startable>
        <subprocedure>Deploy_Production</subprocedure>
        <subproject></subproject>
        <substartingState></substartingState>
        <subworkflowDefinition></subworkflowDefinition>
        <actualParameters>
          <property>
            <propertyName>build_id</propertyName>
            <expandable>1</expandable>
            <value>$[/myWorkflow/build_id]</value>
          </property>
          <property>
            <propertyName>resource</propertyName>
            <expandable>1</expandable>
            <value>production</value>
          </property>
        </actualParameters>
        <propertySheet>
        </propertySheet>
      </stateDefinition>
    </workflowDefinition>
  </project>
</exportedData>
